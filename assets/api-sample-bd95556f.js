import{c as x,a as v,r as o,j as i,b as s,d}from"./ObservableBox-2ce7664b.js";import{E as u}from"./events-960f2965.js";import{E}from"./ExternalEventServiceImpl-4eca66f8.js";import{u as f}from"./hooks-76b410ce.js";import{C as g,H as a,T as h,B as S}from"./chunk-SRMZVY4F-76920d7d.js";import{V as T}from"./chunk-MUMUYFOI-571ab051.js";class A{textService;logger;constructor(e){this.textService=e.references.textService,this.logger=x("api-app:TextApiExtension")}async getApiMethods(){return{changeText:e=>{this.textService.setText(e),this.logger.warn("Test message",{testLog:123,text:e})}}}}class z extends u{text="not yet set";setText(e){const n=this.text;this.text=e,this.emit("text-changed",{newText:this.text,oldText:n})}getText(){return this.text}}class y{async getApiMethods(){return{justAnotherApiMethod:()=>{console.log("justAnotherApiMethod")}}}}const q={"api-app":{name:"api-app",services:{TextApiExtension:{name:"TextApiExtension",clazz:A,provides:[{name:"integration.ApiExtension",qualifier:void 0}],references:{textService:{name:"api-app.TextService",qualifier:void 0,all:!1}}},TextService:{name:"TextService",clazz:z,provides:[{name:"api-app.TextService",qualifier:void 0}],references:{}},SecondApiExtension:{name:"SecondApiExtension",clazz:y,provides:[{name:"integration.ApiExtension",qualifier:void 0}],references:{}}},ui:{references:[{name:"api-app.TextService",qualifier:void 0,all:!1},{name:"integration.ExternalEventService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/integration":{name:"@open-pioneer/integration",services:{ExternalEventServiceImpl:{name:"ExternalEventServiceImpl",clazz:E,provides:[{name:"integration.ExternalEventService",qualifier:void 0}],references:{ctx:{name:"runtime.ApplicationContext",qualifier:void 0,all:!1}}}},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/chakra-integration":{name:"@open-pioneer/chakra-integration",services:{},ui:{references:[]},properties:{}}},C="",M=[];function b(t){throw new Error(`Unsupported locale: '${t}'`)}const j=v(C),k=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:b,locales:M,packages:q,styles:j},Symbol.toStringTag,{value:"Module"})),w="api-app",c=f.bind(void 0,w);function I(){const t=c("integration.ExternalEventService"),e=()=>{t.emitEvent("my-custom-event",{data:"my-event-data"})},n=c("api-app.TextService"),[p,r]=o.useState("");return o.useEffect(()=>{r(n.getText());const l=n.on("text-changed",m=>{r(m.newText)});return()=>l.destroy()},[n]),i(g,{children:s(T,{children:[i(a,{size:"md",children:"Emitting Events"}),i(h,{children:"Click this button to emit a browser event:"}),i(S,{onClick:e,children:"Emit Event"}),i(a,{size:"md",pt:20,children:"React to api calls from outer site"}),s("div",{children:["Current text: ",p]})]})})}const _=d({component:I,appMetadata:k});customElements.define("api-app",_);
