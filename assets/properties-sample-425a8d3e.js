import"./modulepreload-polyfill-ec808ebb.js";import{g as u,u as k,o as I,j as a,f,e as h,b as i,Q as q,c as L,r as E,F as O,a as x}from"./ObservableBox-70dd61b3.js";import{u as T}from"./hooks-01c7f993.js";import{u as y,c as A,a as P,b as B,F as M}from"./chunk-JSSKUSQH-3ff50c31.js";import{S as U,C as z,T as j,B as m}from"./chunk-SRMZVY4F-50a1bafb.js";import{V as D}from"./chunk-MUMUYFOI-2b4b404d.js";import{H as G}from"./chunk-B2MGPQRJ-a7aadc9e.js";const c=Symbol("EventEmitterState");class H{[c]=new V;on(e,o){return this[c].on(e,{listener:o})}once(e,o){return this[c].on(e,{listener:o,once:!0})}emit(e,...o){this[c].emit(e,o[0])}}class V{handlers=new Map;on(e,o){let t=this.handlers.get(e);return t||(t=new Set,this.handlers.set(e,t)),t.add(o),{destroy(){o.removed=!0,t?.delete(o),t=void 0}}}emit(e,o){const t=this.handlers.get(e);if(!t)return;const n=[...t];for(const s of n)s.removed||(s.once&&(s.removed=!0,t.delete(s)),s.listener(o))}}var S=u(function(e,o){var t;const n=k("FormLabel",e),s=I(e),{className:g,children:d,requiredIndicator:p=i(w,{}),optionalIndicator:_=null,...N}=s,l=y(),C=(t=l?.getLabelProps(N,o))!=null?t:{ref:o,...N};return a(f.label,{...C,className:h("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...n},children:[d,l?.isRequired?p:_]})});S.displayName="FormLabel";var w=u(function(e,o){const t=y(),n=A();if(!t?.isRequired)return null;const s=h("chakra-form__required-indicator",e.className);return i(f.span,{...t?.getRequiredIndicatorProps(e,o),__css:n.requiredIndicator,className:s})});w.displayName="RequiredIndicator";var v=u(function(e,o){const{htmlSize:t,...n}=e,s=q("Input",n),g=I(n),d=P(g),p=h("chakra-input",e.className);return i(f.input,{size:t,...d,__css:s.field,ref:o,className:p})});v.displayName="Input";v.id="Input";var F=u((r,e)=>i(U,{align:"center",...r,direction:"row",ref:e}));F.displayName="HStack";const b={DEBUG:0,INFO:1,ERROR:2};class K extends H{level;constructor(e){super(),this.level=Q(e.properties)}notify(e,o="INFO"){b[this.level]>b[o]||this.emit("show-notification",{level:o,message:e})}}function Q(r){const e=r.notifierLevel;switch(e){case"DEBUG":case"INFO":case"ERROR":return e}throw new Error(`Invalid notifier level: '${e}'.`)}const $={"properties-app":{name:"properties-app",services:{NotifierImpl:{name:"NotifierImpl",clazz:K,provides:[{name:"properties-app.Notifier",qualifier:void 0}],references:{}}},ui:{references:[{name:"properties-app.Notifier",qualifier:void 0,all:!1}]},properties:{notifierLevel:{value:"INFO",required:!1}}}},J="",W=L(J),X=Object.freeze(Object.defineProperty({__proto__:null,packages:$,styles:W},Symbol.toStringTag,{value:"Module"})),Y="properties-app",R=T.bind(void 0,Y),Z={DEBUG:void 0,INFO:"info",ERROR:"error"};function ee(){const r=R("properties-app.Notifier"),e=B();return E.useEffect(()=>{const o=r.on("show-notification",t=>{e({position:"bottom-right",title:t.message,isClosable:!0,status:Z[t.level]})});return()=>o.destroy()},[r,e]),null}function te(){return a(O,{children:[i(ee,{}),i(oe,{})]})}function oe(){const r=R("properties-app.Notifier"),[e,o]=E.useState(""),t=n=>{e&&r.notify(e,n)};return i(z,{children:a(D,{my:"20",children:[i(G,{size:"m",children:"Notifier Sample"}),a(j,{children:["This Form attempts to emit a notification with a certain level when clicking one of the button below. The notifier will ignore notifications with a level lower than ",i("strong",{children:r.level}),". The notifier's level can be configured using an attribute on the web component element."]}),a(M,{pt:"3",children:[i(S,{children:"Enter a message and click one of the buttons to emit a notification"}),i(v,{placeholder:"Notification text...",value:e,onChange:n=>o(n.target.value)})]}),a(F,{children:[i(m,{onClick:t.bind(void 0,"DEBUG"),children:"Debug"}),i(m,{onClick:t.bind(void 0,"INFO"),children:"Info"}),i(m,{onClick:t.bind(void 0,"ERROR"),children:"Error"})]})]})})}const re=x({component:te,appMetadata:X,async resolveProperties(r){const e=r.getAttribute("level");if(e)return{"properties-app":{notifierLevel:e}}}});customElements.define("properties-app",re);
