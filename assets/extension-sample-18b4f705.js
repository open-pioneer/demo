var f=(n,e,i)=>{if(!e.has(n))throw TypeError("Cannot "+i)};var a=(n,e,i)=>(f(n,e,"read from private field"),i?i.call(n):e.get(n)),l=(n,e,i)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,i)};import"./modulepreload-polyfill-ec808ebb.js";import{i as A,d as o,j as s,c as h}from"./CustomElement-f302eb84.js";import{u}from"./hooks-8390c920.js";import{S as w,B as x,C as P,H as p,T as d}from"./chunk-SRMZVY4F-89cb7939.js";var v=A((n,e)=>o(w,{align:"center",...n,direction:"column",ref:e}));v.displayName="VStack";var r;class S{constructor(e){l(this,r,new Map);const i=a(this,r),t=e.references.providers;for(const m of t){const g=m.createActions();for(const c of g){if(i.has(c.id))throw new Error(`Action '${c.id}' was defined twice.`);i.set(c.id,c)}}}getActionInfo(){const e=Array.from(a(this,r).values()).map(i=>({id:i.id,text:i.text}));return e.sort((i,t)=>i.text.localeCompare(t.text)),e}triggerAction(e){const i=a(this,r).get(e);if(!i)throw new Error(`Action '${e}' was not defined.`);i.trigger()}}r=new WeakMap;class b{createActions(){return[{id:"logging-action",text:"Log a message",trigger(){console.info("Logging a message!")}}]}}class y{createActions(){return[{id:"clear-browser-action",text:"Clear browser",trigger(){document.body.innerHTML=""}},{id:"refresh-browser-action",text:"Refresh browser",trigger(){window.location.reload()}}]}}class I{createActions(){return[{id:"open-window-action",text:"Open window",trigger(){window.open("https://www.conterra.de")}}]}}const z={"extension-app":{name:"extension-app",services:{ActionServiceImpl:{name:"ActionServiceImpl",clazz:S,provides:[{name:"extension-app.ActionService",qualifier:void 0}],references:{providers:{name:"extension-app.ActionProvider",qualifier:void 0,all:!0}}},LoggingActionProvider:{name:"LoggingActionProvider",clazz:b,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},MultiActionProvider:{name:"MultiActionProvider",clazz:y,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},OpenWindowActionProvider:{name:"OpenWindowActionProvider",clazz:I,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}}},ui:{references:[{name:"extension-app.ActionService",qualifier:void 0,all:!1}]},properties:{}}},_="",E=Object.freeze(Object.defineProperty({__proto__:null,packages:z,styles:_},Symbol.toStringTag,{value:"Module"})),T="extension-app",k=u.bind(void 0,T);function C(){const n=k("extension-app.ActionService"),e=n.getActionInfo().map(({id:i,text:t})=>o(x,{onClick:()=>n.triggerAction(i),children:t},i));return s(P,{maxW:"3xl",py:2,children:[o(p,{as:"h1",size:"4xl",mb:4,children:"Extension Example"}),o(d,{my:2,children:"This example demonstrates how to provide an extensible API with services and 1-to-N dependencies."}),s(d,{my:2,children:["Individual ",o("code",{children:"ActionProvider"})," instances can provide a number of actions, which are then gathered and indexed by the ",o("code",{children:"ActionService"}),", which depends on all ActionProviders. The UI references the ",o("code",{children:"ActionService"})," and renders the provided actions as buttons. When a button is clicked, the appropriate action will be triggered."]}),s(d,{my:2,children:["To add a new action, simply add new implementation of"," ",o("code",{children:'"extension-app.ActionProvider"'}),". The"," ",o("code",{children:"ActionService"})," will pick it up automatically."]}),s(p,{as:"h4",size:"xl",children:["Buttons from ",o("code",{children:"ActionService"}),":"]}),o(v,{align:"start",children:e})]})}const M=h({component:C,...E});customElements.define("extension-app",M);
