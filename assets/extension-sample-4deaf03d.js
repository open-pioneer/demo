var f=(n,e,i)=>{if(!e.has(n))throw TypeError("Cannot "+i)};var a=(n,e,i)=>(f(n,e,"read from private field"),i?i.call(n):e.get(n)),l=(n,e,i)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,i)};import"./modulepreload-polyfill-ec808ebb.js";import{k as A,e as o,c as h,j as s,a as u}from"./ObservableBox-4be0abba.js";import{u as w}from"./hooks-6b191e3c.js";import{S as x,B as P,C as S,H as p,T as d}from"./chunk-SRMZVY4F-38eb6a5d.js";var v=A((n,e)=>o(x,{align:"center",...n,direction:"column",ref:e}));v.displayName="VStack";var t;class b{constructor(e){l(this,t,new Map);const i=a(this,t),r=e.references.providers;for(const m of r){const g=m.createActions();for(const c of g){if(i.has(c.id))throw new Error(`Action '${c.id}' was defined twice.`);i.set(c.id,c)}}}getActionInfo(){const e=Array.from(a(this,t).values()).map(i=>({id:i.id,text:i.text}));return e.sort((i,r)=>i.text.localeCompare(r.text)),e}triggerAction(e){const i=a(this,t).get(e);if(!i)throw new Error(`Action '${e}' was not defined.`);i.trigger()}}t=new WeakMap;class y{createActions(){return[{id:"logging-action",text:"Log a message",trigger(){console.info("Logging a message!")}}]}}class I{createActions(){return[{id:"clear-browser-action",text:"Clear browser",trigger(){document.body.innerHTML=""}},{id:"refresh-browser-action",text:"Refresh browser",trigger(){window.location.reload()}}]}}class z{createActions(){return[{id:"open-window-action",text:"Open window",trigger(){window.open("https://www.conterra.de")}}]}}const E={"extension-app":{name:"extension-app",services:{ActionServiceImpl:{name:"ActionServiceImpl",clazz:b,provides:[{name:"extension-app.ActionService",qualifier:void 0}],references:{providers:{name:"extension-app.ActionProvider",qualifier:void 0,all:!0}}},LoggingActionProvider:{name:"LoggingActionProvider",clazz:y,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},MultiActionProvider:{name:"MultiActionProvider",clazz:I,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},OpenWindowActionProvider:{name:"OpenWindowActionProvider",clazz:z,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}}},ui:{references:[{name:"extension-app.ActionService",qualifier:void 0,all:!1}]},properties:{}}},k="",M=h(k),T=Object.freeze(Object.defineProperty({__proto__:null,packages:E,styles:M},Symbol.toStringTag,{value:"Module"})),C="extension-app",q=w.bind(void 0,C);function B(){const n=q("extension-app.ActionService"),e=n.getActionInfo().map(({id:i,text:r})=>o(P,{onClick:()=>n.triggerAction(i),children:r},i));return s(S,{maxW:"3xl",py:2,children:[o(p,{as:"h1",size:"4xl",mb:4,children:"Extension Example"}),o(d,{my:2,children:"This example demonstrates how to provide an extensible API with services and 1-to-N dependencies."}),s(d,{my:2,children:["Individual ",o("code",{children:"ActionProvider"})," instances can provide a number of actions, which are then gathered and indexed by the ",o("code",{children:"ActionService"}),", which depends on all ActionProviders. The UI references the ",o("code",{children:"ActionService"})," and renders the provided actions as buttons. When a button is clicked, the appropriate action will be triggered."]}),s(d,{my:2,children:["To add a new action, simply add new implementation of"," ",o("code",{children:'"extension-app.ActionProvider"'}),". The"," ",o("code",{children:"ActionService"})," will pick it up automatically."]}),s(p,{as:"h4",size:"xl",children:["Buttons from ",o("code",{children:"ActionService"}),":"]}),o(v,{align:"start",children:e})]})}const L=u({component:B,appMetadata:T});customElements.define("extension-app",L);
